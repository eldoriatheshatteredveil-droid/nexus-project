import{c as M,j as e,u as H,a as Z,b as X}from"./index-DYu7rLxv.js";import{r as t,A as J,m as D}from"./vendor-DAT4BnLg.js";import{G as q}from"./GameCardHolographic-B4oDMUq6.js";import{Q,g as _,Z as u,I as V,Y as K,_ as ee,$ as se,J as te,H as ae,a0 as re,a1 as U,a2 as le}from"./ui-Bb-GuDE2.js";const oe=({options:o,value:b,onChange:p,placeholder:v="Select..."})=>{const[r,n]=t.useState(!1),i=t.useRef(null),{playHover:g,playClick:d}=M(),l=o.find(a=>a.value===b),w=a=>{p(a),n(!1),d()};return t.useEffect(()=>{const a=k=>{i.current&&!i.current.contains(k.target)&&n(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]),e.jsxs("div",{className:"relative w-full select-none",ref:i,children:[e.jsxs("button",{type:"button",onClick:()=>{n(!r),d()},className:`w-full flex items-center justify-between bg-black/50 border rounded-xl p-4 text-white transition-all duration-300 ${r?"border-[#00ffd5] shadow-[0_0_15px_rgba(0,255,213,0.2)]":"border-white/10 hover:bg-white/5 hover:border-[#00ffd5]/50"}`,onMouseEnter:g,children:[e.jsx("span",{className:`font-mono ${l?"":"text-gray-500"}`,children:l?l.label:v}),e.jsx(Q,{size:16,className:`text-[#00ffd5] transition-transform duration-300 ${r?"rotate-180":""}`})]}),e.jsx(J,{children:r&&e.jsx(D.div,{initial:{opacity:0,y:-10,scaleY:.95},animate:{opacity:1,y:0,scaleY:1},exit:{opacity:0,y:-10,scaleY:.95},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-2 bg-[#0a0a0f] border border-[#00ffd5]/30 rounded-xl shadow-[0_0_30px_rgba(0,0,0,0.8)] overflow-hidden z-50 max-h-60 overflow-y-auto custom-scrollbar",children:o.map(a=>e.jsx("button",{type:"button",onClick:()=>w(a.value),onMouseEnter:g,className:`w-full text-left px-4 py-3 text-sm font-mono transition-colors border-b border-white/5 last:border-0 ${b===a.value?"bg-[#00ffd5]/20 text-[#00ffd5]":"text-gray-300 hover:bg-[#00ffd5]/10 hover:text-[#00ffd5]"}`,children:a.label},a.value))})})]})},xe=()=>{const{playHover:o,playClick:b,playSwitch:p}=M(),v=H(s=>s.addGame),{user:r,loading:n}=Z(),i=X(),[g,d]=t.useState(!1),[l,w]=t.useState(""),[a,k]=t.useState(""),[E,R]=t.useState(""),[m,O]=t.useState("ai"),[c,T]=t.useState("singleplayer"),[x,I]=t.useState("browser"),[j,G]=t.useState(""),[y,z]=t.useState(null),[S,A]=t.useState(!1),[L,N]=t.useState(""),[P,Y]=t.useState(!1);if(t.useEffect(()=>{!n&&!r&&i("/")},[r,n,i]),n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#00ffd5]"})});const C=s=>{s.preventDefault(),s.stopPropagation(),s.type==="dragenter"||s.type==="dragover"?d(!0):s.type==="dragleave"&&d(!1)},$=s=>{if(s.preventDefault(),s.stopPropagation(),d(!1),p(),s.dataTransfer.files&&s.dataTransfer.files.length>0){const f=s.dataTransfer.files[0];j||(G(`https://nexus-storage.system/files/${f.name}`),I("download"))}},F=s=>{const f=s.target.files?.[0];if(f){const h=new FileReader;h.onloadend=()=>{z(h.result),p()},h.readAsDataURL(f)}},W=async s=>{if(s.preventDefault(),b(),N(""),!r){N("User authentication lost. Please login again.");return}if(!l.trim()){N("Project Title is required.");return}if(!P){N("You must agree to the Upload Terms and certify your rights.");return}A(!0),await new Promise(h=>setTimeout(h,1500));const f={id:`game-${Date.now()}`,title:l||"Untitled Project",slug:(l||"untitled").toLowerCase().replace(/[^a-z0-9]+/g,"-"),price:0,payWhatYouWant:!0,cover:y||`https://source.unsplash.com/900x900/?cyberpunk,game&sig=${Date.now()}`,description:E||"No description provided.",tags:[m==="ai"?"AI Games":"Indie Games",c==="singleplayer"?"Single Player":"Multiplayer"],rating:0,downloads:0,category:m,mode:c,uploaderId:r.id,uploaderName:r.username,type:x,embedUrl:x==="browser"?j:void 0,downloadUrl:x==="download"?j:void 0};v(f),A(!1),i("/")},B={id:"preview",title:l||"PROJECT TITLE",slug:"preview",price:0,payWhatYouWant:!0,cover:y||"https://images.unsplash.com/photo-1550745165-9bc0b252726f?auto=format&fit=crop&q=80&w=1000",description:E||"System description pending...",tags:[m==="ai"?"AI Games":"Indie Games",c==="singleplayer"?"Single Player":"Multiplayer"],rating:5,downloads:0,category:m,mode:c};return e.jsx("div",{className:"min-h-screen pb-20 container mx-auto px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold font-orbitron tracking-wide text-white flex items-center gap-3",children:[e.jsx(_,{className:"text-[#00ffd5]",size:32}),"UPLOAD PROTOCOL"]}),e.jsx("p",{className:"text-gray-400 font-mono text-sm mt-2",children:"INITIALIZE DEPLOYMENT SEQUENCE"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs("div",{className:"flex items-center gap-2 text-[#00ffd5] bg-[#00ffd5]/10 px-4 py-2 rounded-full border border-[#00ffd5]/30",children:[e.jsx(u,{size:16,className:"animate-pulse"}),e.jsx("span",{className:"font-mono text-xs font-bold",children:"SYSTEM READY"})]})})]}),e.jsxs("div",{className:"mb-8 bg-black/40 backdrop-blur-md border border-[#00ffd5]/30 rounded-2xl p-6 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-[#00ffd5]"}),e.jsx("div",{className:"absolute -right-10 -top-10 w-32 h-32 bg-[#00ffd5]/10 rounded-full blur-3xl group-hover:bg-[#00ffd5]/20 transition-all"}),e.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2 font-orbitron",children:[e.jsx(V,{className:"text-[#00ffd5]",size:24}),"UPLOAD GUIDELINES"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-gray-300 font-mono",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[#00ffd5] font-bold uppercase flex items-center gap-2",children:[e.jsx("span",{className:"bg-[#00ffd5] text-black w-5 h-5 rounded-full flex items-center justify-center text-xs",children:"1"}),"Game Format"]}),e.jsxs("ul",{className:"space-y-2 list-none pl-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#00ffd5] mt-1",children:"›"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"HTML5 / WebGL:"})," Upload a .ZIP file containing your game files. ",e.jsx("span",{className:"text-[#ff66cc]",children:"index.html must be in the root folder"})," (not in a subfolder) for the game to load correctly."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#00ffd5] mt-1",children:"›"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Downloadable:"})," For Windows, Mac, or Linux builds. Upload .ZIP, .RAR, or .EXE files. Max file size: 1GB."]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[#00ffd5] font-bold uppercase flex items-center gap-2",children:[e.jsx("span",{className:"bg-[#00ffd5] text-black w-5 h-5 rounded-full flex items-center justify-center text-xs",children:"2"}),"Assets & Policy"]}),e.jsxs("ul",{className:"space-y-2 list-none pl-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#00ffd5] mt-1",children:"›"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Cover Art:"})," The first thing players see. Recommended size: ",e.jsx("strong",{className:"text-white",children:"1600x900px"})," (16:9 aspect ratio). JPG or PNG."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#00ffd5] mt-1",children:"›"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Free Games Only:"})," NEXUS is a free-to-play platform. Do not upload demos that require payment elsewhere."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[#00ffd5] mt-1",children:"›"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Copyright:"})," Ensure you own all assets or have permission. No pirated content."]})]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex-1 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4 bg-black/40 p-1 rounded-xl border border-white/10",children:[e.jsx("button",{onClick:()=>I("browser"),className:`flex-1 py-3 rounded-lg text-xs font-bold transition-all ${x==="browser"?"bg-[#00ffd5] text-black":"text-gray-400 hover:text-white"}`,children:"WEB EMBED (URL)"}),e.jsx("button",{onClick:()=>I("download"),className:`flex-1 py-3 rounded-lg text-xs font-bold transition-all ${x==="download"?"bg-[#00ffd5] text-black":"text-gray-400 hover:text-white"}`,children:"DOWNLOADABLE BUILD"})]}),x==="download"?e.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-12 text-center transition-all duration-300 group overflow-hidden ${g?"border-[#00ffd5] bg-[#00ffd5]/5 shadow-[0_0_30px_rgba(0,255,213,0.15)]":"border-white/10 hover:border-[#00ffd5]/50 bg-black/40 backdrop-blur-sm"}`,onDragEnter:C,onDragLeave:C,onDragOver:C,onDrop:$,children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(0,255,213,0.05)_50%,transparent_75%,transparent_100%)] bg-[length:20px_20px] opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-[#00ffd5]/20 to-[#ff66cc]/20 border border-white/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:e.jsx(K,{className:"w-10 h-10 text-[#00ffd5]"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-orbitron",children:"DROP GAME BUILD"}),e.jsx("p",{className:"text-sm text-gray-400 font-mono",children:".ZIP .RAR .EXE (MAX 5GB)"})]}),e.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:p})]}):e.jsxs("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-2xl p-8 space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-[#00ffd5] uppercase tracking-wider select-none",children:[e.jsx(u,{size:14})," Game Embed URL"]}),e.jsx("input",{type:"text",className:"w-full bg-black/50 border border-white/10 rounded-xl p-4 text-white placeholder-gray-600 focus:outline-none focus:border-[#00ffd5] focus:shadow-[0_0_15px_rgba(0,255,213,0.2)] transition-all font-mono",placeholder:"https://itch.io/embed/...",value:j,onChange:s=>G(s.target.value),onFocus:o}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supports Itch.io, Newgrounds, and HTML5 embed links."})]})]}),e.jsxs("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-2xl p-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-[#00ffd5] uppercase tracking-wider select-none",children:[e.jsx(ee,{size:14})," Project Title"]}),e.jsx("input",{type:"text",className:"w-full bg-black/50 border border-white/10 rounded-xl p-4 text-white placeholder-gray-600 focus:outline-none focus:border-[#00ffd5] focus:shadow-[0_0_15px_rgba(0,255,213,0.2)] transition-all font-orbitron",placeholder:"ENTER TITLE...",value:l,onChange:s=>w(s.target.value),onFocus:o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-[#ff66cc] uppercase tracking-wider select-none",children:[e.jsx(se,{size:14})," Version"]}),e.jsx("input",{type:"text",className:"w-full bg-black/50 border border-white/10 rounded-xl p-4 text-white placeholder-gray-600 focus:outline-none focus:border-[#ff66cc] focus:shadow-[0_0_15px_rgba(255,102,204,0.2)] transition-all font-mono",placeholder:"v1.0.0",value:a,onChange:s=>k(s.target.value),onFocus:o})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider select-none",children:[e.jsx(te,{size:14})," Category"]}),e.jsx(oe,{options:[{label:"AI GAMES",value:"ai"},{label:"INDIE GAMES",value:"dev"}],value:m,onChange:s=>O(s)})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider select-none",children:[e.jsx(ae,{size:14})," Game Mode"]}),e.jsxs("div",{className:"flex gap-4 bg-black/20 p-1 rounded-xl border border-white/5",children:[e.jsx("button",{type:"button",onClick:()=>T("singleplayer"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${c==="singleplayer"?"bg-[#00ffd5] text-black":"text-gray-400 hover:text-white"}`,children:"SINGLE PLAYER"}),e.jsx("button",{type:"button",onClick:()=>T("multiplayer"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${c==="multiplayer"?"bg-[#00ffd5] text-black":"text-gray-400 hover:text-white"}`,children:"MULTIPLAYER"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider select-none",children:[e.jsx(re,{size:14})," Description"]}),e.jsx("textarea",{rows:4,className:"w-full bg-black/50 border border-white/10 rounded-xl p-4 text-white placeholder-gray-600 focus:outline-none focus:border-[#00ffd5] transition-all resize-none",placeholder:"SYSTEM DESCRIPTION...",value:E,onChange:s=>R(s.target.value),onFocus:o})]}),e.jsx("div",{className:"pt-4 border-t border-white/10",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative mt-1",children:[e.jsx("input",{type:"checkbox",className:"peer sr-only",checked:P,onChange:s=>Y(s.target.checked)}),e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 rounded bg-black/50 peer-checked:bg-[#00ffd5] peer-checked:border-[#00ffd5] transition-all"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-black opacity-0 peer-checked:opacity-100 pointer-events-none",children:e.jsx(u,{size:12,fill:"currentColor"})})]}),e.jsxs("div",{className:"text-xs text-gray-400 group-hover:text-gray-300 transition-colors",children:[e.jsx("span",{className:"font-bold text-white",children:"I certify that I have the rights to upload this content."}),e.jsx("br",{}),"I confirm this project does not infringe on any third-party copyrights or trademarks. If AI games were used, I have disclosed this in the description/tags. I agree to the ",e.jsx("a",{href:"/terms",className:"text-[#00ffd5] hover:underline",target:"_blank",children:"Terms of Service"}),"."]})]})})]})]}),e.jsxs(D.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"w-full lg:w-[400px] space-y-6",children:[e.jsxs("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(u,{size:14,className:"text-[#00ffd5]"})," Live Preview"]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(q,{game:B})})]}),e.jsxs("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-2xl p-6 space-y-4",children:[e.jsxs("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(U,{size:14})," Cover Art"]}),e.jsxs("div",{className:"relative aspect-[16/9] bg-black/50 rounded-xl overflow-hidden border-2 border-dashed border-white/10 group hover:border-[#00ffd5]/50 transition-colors",children:[y?e.jsx("img",{src:y,alt:"Preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-600",children:[e.jsx(U,{size:32,className:"mb-2 opacity-50"}),e.jsx("span",{className:"text-xs font-mono",children:"NO SIGNAL"})]}),e.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",children:e.jsxs("span",{className:"text-[#00ffd5] font-bold text-sm flex items-center gap-2",children:[e.jsx(_,{size:16})," CHANGE IMAGE"]})}),e.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:F})]}),e.jsx("p",{className:"text-[10px] text-gray-500 font-mono text-center",children:"RECOMMENDED: 1600x900px JPG/PNG"})]}),L&&e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-500 text-sm font-mono text-center",children:["ERROR: ",L]}),e.jsx("button",{onClick:W,disabled:S,className:`w-full py-4 bg-[#00ffd5] text-black font-bold text-lg rounded-xl shadow-[0_0_20px_rgba(0,255,213,0.4)] hover:shadow-[0_0_40px_rgba(0,255,213,0.6)] hover:scale-[1.02] transition-all flex items-center justify-center gap-3 group ${S?"opacity-50 cursor-not-allowed":""}`,onMouseEnter:o,children:S?e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"animate-spin"}),"DEPLOYING..."]}):e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"group-hover:animate-bounce"}),"DEPLOY TO NEXUS"]})})]})]})]})})};export{xe as default};
