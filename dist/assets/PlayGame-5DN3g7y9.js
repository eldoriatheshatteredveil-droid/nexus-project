import{c as V,u as Q,j as e,a as se,s as Ee,d as ke,b as Se,C as Ae,e as Re}from"./index-DYu7rLxv.js";import{r as o,A as we,m as K}from"./vendor-DAT4BnLg.js";import{T as Te,c as oe,a6 as ve,a7 as Ie,H as Le,M as _e,a8 as Ce,a9 as ie,X as De,x as Oe,p as Pe,aa as Me,b as Ye,a as Ge,a3 as He,ab as Ue,ac as Be,J as ce,Z as ze,ad as Fe}from"./ui-Bb-GuDE2.js";const Y=20,de=20,fe=150,$e=()=>{const{playClick:v,playSwitch:f}=V(),{updateHighScore:R,isEquipped:x}=Q(),[A,k]=o.useState([{x:10,y:10}]),[T,j]=o.useState({x:15,y:15}),[h,b]=o.useState("RIGHT"),[p,y]=o.useState(!1),[u,S]=o.useState(0),[g,i]=o.useState(!1);o.useRef(null);const m=x("cheat_slow_time")?fe*1.5:fe,w=()=>({x:Math.floor(Math.random()*Y),y:Math.floor(Math.random()*Y)}),N=()=>{k([{x:10,y:10}]),j(w()),b("RIGHT"),y(!1),S(0),i(!0),v()};return o.useEffect(()=>{p&&R("nvious-snake",u)},[p,u,R]),o.useEffect(()=>{const I=s=>{if(g)switch(s.key){case"ArrowUp":case"w":case"W":h!=="DOWN"&&b("UP");break;case"ArrowDown":case"s":case"S":h!=="UP"&&b("DOWN");break;case"ArrowLeft":case"a":case"A":h!=="RIGHT"&&b("LEFT");break;case"ArrowRight":case"d":case"D":h!=="LEFT"&&b("RIGHT");break}};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[h,g]),o.useEffect(()=>{if(!g||p)return;const s=setInterval(()=>{k(t=>{const r={...t[0]};switch(h){case"UP":r.y-=1;break;case"DOWN":r.y+=1;break;case"LEFT":r.x-=1;break;case"RIGHT":r.x+=1;break}if(r.x<0||r.x>=Y||r.y<0||r.y>=Y||t.some(l=>l.x===r.x&&l.y===r.y))return y(!0),i(!1),t;const n=[r,...t];return r.x===T.x&&r.y===T.y?(S(l=>l+10),j(w()),f()):n.pop(),n})},m);return()=>clearInterval(s)},[h,g,p,T,f,m]),e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-black/50 rounded-xl border border-[#00ffd5]/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-4 flex justify-between w-full max-w-[400px] text-[#00ffd5] font-mono",children:[e.jsxs("span",{children:["SCORE: ",u]}),e.jsxs("span",{children:["STATUS: ",p?"TERMINATED":g?"ACTIVE":"READY"]})]}),e.jsxs("div",{className:"relative bg-black/80 border border-[#00ffd5]/50 shadow-[0_0_20px_rgba(0,255,213,0.2)]",style:{width:Y*de,height:Y*de,display:"grid",gridTemplateColumns:`repeat(${Y}, 1fr)`,gridTemplateRows:`repeat(${Y}, 1fr)`},children:[Array.from({length:Y*Y}).map((I,s)=>{const t=s%Y,r=Math.floor(s/Y),n=A.some(a=>a.x===t&&a.y===r),l=T.x===t&&T.y===r,E=A[0].x===t&&A[0].y===r;return e.jsx("div",{className:`
                w-full h-full border-[0.5px] border-white/5
                ${E?"bg-[#ffffff] shadow-[0_0_10px_#ffffff]":""}
                ${n&&!E?"bg-[#00ffd5] shadow-[0_0_5px_#00ffd5]":""}
                ${l?"bg-[#ff66cc] animate-pulse shadow-[0_0_10px_#ff66cc]":""}
              `},s)}),p&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 z-10",children:[e.jsx("h3",{className:"text-2xl text-red-500 font-bold mb-4",children:"GAME OVER"}),e.jsx("button",{onClick:N,className:"px-6 py-2 bg-[#00ffd5] text-black font-bold rounded hover:bg-white transition-colors",children:"RETRY"})]}),!g&&!p&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 z-10",children:e.jsx("button",{onClick:N,className:"px-6 py-2 bg-[#00ffd5] text-black font-bold rounded hover:bg-white transition-colors",children:"START GAME"})})]}),e.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"Use WASD or Arrow Keys to Navigate"})]})},Ve=()=>{const{playClick:v,playSwitch:f,playHover:R}=V(),[x,A]=o.useState(0),[k,T]=o.useState(""),[j,h]=o.useState("System initialized. Awaiting input..."),[b,p]=o.useState(0),[y,u]=o.useState(!1),[S,g]=o.useState([]),i=o.useRef(null);o.useEffect(()=>{d()},[]);const d=()=>{const w=Math.floor(Math.random()*100)+1;A(w),T(""),h("Encryption sequence active. Guess the code (1-100)."),p(0),u(!1),g([]),i.current&&i.current.focus()},m=w=>{if(w.preventDefault(),y)return;const N=parseInt(k);if(isNaN(N)){h("Error: Invalid data type. Input numeric value."),f();return}v();const I=b+1;p(I);let s="";N===x?(s=`ACCESS GRANTED. Code ${N} verified. Attempts: ${I}`,h("SUCCESS: System breach successful."),u(!0)):N<x?(s=`Input ${N}: Value too low.`,h("Encryption stronger. Try a higher value.")):(s=`Input ${N}: Value too high.`,h("Signal overflow. Try a lower value.")),g(t=>[`> ${s}`,...t]),T("")};return e.jsxs("div",{className:"w-full max-w-md mx-auto bg-black border border-[#00ffd5]/50 rounded-lg p-6 font-mono shadow-[0_0_20px_rgba(0,255,213,0.15)]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-[#00ffd5]/30 pb-2",children:[e.jsx(Te,{size:20,className:"text-[#00ffd5]"}),e.jsx("h3",{className:"text-[#00ffd5] font-bold tracking-wider",children:"NEXUS_GUESS.EXE"})]}),e.jsxs("div",{className:"bg-[#0a0a0a] border border-[#00ffd5]/20 rounded p-4 h-48 overflow-y-auto mb-4 custom-scrollbar",children:[S.length===0&&e.jsx("div",{className:"text-gray-500 italic text-sm",children:"System logs empty..."}),S.map((w,N)=>e.jsx("div",{className:`text-sm mb-1 ${N===0?"text-white font-bold":"text-gray-400"}`,children:w},N))]}),e.jsxs("div",{className:"mb-4 text-center",children:[e.jsx("div",{className:`text-lg font-bold ${y?"text-[#00ffd5] animate-pulse":"text-[#ff66cc]"}`,children:j}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ATTEMPTS: ",b]})]}),y?e.jsxs("button",{onClick:()=>{v(),d()},className:"w-full bg-[#00ffd5] text-black font-bold py-3 rounded hover:bg-white transition-colors flex items-center justify-center gap-2",onMouseEnter:R,children:[e.jsx(ve,{size:18}),"REBOOT SYSTEM"]}):e.jsxs("form",{onSubmit:m,className:"flex gap-2",children:[e.jsx("input",{ref:i,type:"number",value:k,onChange:w=>T(w.target.value),className:"flex-1 bg-[#0a0a0a] border border-[#00ffd5]/30 rounded px-4 py-2 text-white focus:outline-none focus:border-[#00ffd5] transition-colors",placeholder:"Enter code...",autoFocus:!0,onFocus:R}),e.jsxs("button",{type:"submit",className:"bg-[#00ffd5]/10 border border-[#00ffd5] text-[#00ffd5] px-4 py-2 rounded hover:bg-[#00ffd5] hover:text-black transition-all flex items-center gap-2",onMouseEnter:R,children:[e.jsx(oe,{size:18}),"EXEC"]})]})]})},ue=[{name:"Dog",keywords:["animal","living","alive","pet","fur","bark","tail","legs","mammal","walk","run","friend","canine"],hint:"It is a common household pet."},{name:"Airplane",keywords:["vehicle","fly","wings","sky","metal","machine","travel","fast","pilot","engine","air","transport"],hint:"It travels through the sky."},{name:"Pizza",keywords:["food","eat","cheese","italian","round","slice","tasty","hot","cook","meal","dinner","lunch","pepperoni"],hint:"A popular Italian dish."},{name:"Smartphone",keywords:["electronic","tech","technology","screen","call","internet","battery","small","pocket","camera","app","phone","mobile"],hint:"You probably have one in your pocket."},{name:"Sun",keywords:["star","hot","sky","space","light","big","yellow","fire","day","bright","solar","heat"],hint:"It provides light to the Earth."},{name:"Tree",keywords:["plant","living","alive","green","wood","leaves","leaf","grow","nature","forest","tall","roots"],hint:"It grows in the ground and has leaves."},{name:"Guitar",keywords:["music","instrument","strings","play","song","sound","band","wood","electric","acoustic"],hint:"A musical instrument with strings."}],We=()=>{const{playClick:v,playSwitch:f,playHover:R}=V(),[x,A]=o.useState(null),[k,T]=o.useState(""),[j,h]=o.useState([]),[b,p]=o.useState(0),[y,u]=o.useState("playing"),S=o.useRef(null);o.useEffect(()=>{g()},[]),o.useEffect(()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},[j]);const g=()=>{const m=ue[Math.floor(Math.random()*ue.length)];A(m),h([{type:"ai",text:"I am thinking of an object. You have 20 questions. Ask me anything (Yes/No questions work best)."}]),p(0),u("playing"),T("")},i=(m,w)=>{const N=m.toLowerCase();return N.includes(w.name.toLowerCase())?"CORRECT":w.keywords.some(s=>N.includes(s))?"Yes.":N.includes("object")||N.includes("thing")?"Yes, it is a thing.":N.includes("person")||N.includes("human")?"No, it is not a specific person.":"No."},d=m=>{if(m.preventDefault(),!k.trim()||y!=="playing"||!x)return;v();const w=k;T(""),h(N=>[...N,{type:"user",text:w}]),setTimeout(()=>{const N=i(w,x);if(N==="CORRECT")h(I=>[...I,{type:"ai",text:`Yes! The answer is ${x.name}. You won in ${b+1} questions.`}]),u("won"),f();else{const I=b+1;p(I),I>=20?(h(s=>[...s,{type:"ai",text:`No. Game Over. I was thinking of: ${x.name}.`}]),u("lost")):(h(s=>[...s,{type:"ai",text:N}]),I===10&&setTimeout(()=>h(s=>[...s,{type:"ai",text:"Hint: "+x.hint}]),500))}},500)};return e.jsxs("div",{className:"w-full max-w-2xl mx-auto bg-black/90 border border-[#00ffd5]/30 rounded-xl overflow-hidden flex flex-col h-[600px] shadow-[0_0_30px_rgba(0,255,213,0.1)]",children:[e.jsxs("div",{className:"bg-[#00ffd5]/10 p-4 border-b border-[#00ffd5]/20 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{className:"text-[#00ffd5]",size:24}),e.jsx("h2",{className:"text-xl font-bold text-white font-orbitron",children:"NEXUS_ORACLE v1.0"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm font-mono text-[#00ffd5]",children:["Q: ",b,"/20"]}),e.jsx("button",{onClick:()=>{v(),g()},className:"p-2 hover:bg-white/10 rounded-full transition-colors",title:"Restart Game",children:e.jsx(ve,{size:18,className:"text-gray-400 hover:text-white"})})]})]}),e.jsx("div",{ref:S,className:"flex-grow overflow-y-auto p-6 space-y-4 custom-scrollbar bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]",children:j.map((m,w)=>e.jsx("div",{className:`flex ${m.type==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] p-4 rounded-lg text-sm ${m.type==="user"?"bg-[#00ffd5]/20 text-white border border-[#00ffd5]/30 rounded-tr-none":"bg-[#ff66cc]/10 text-gray-200 border border-[#ff66cc]/30 rounded-tl-none"}`,children:[m.type==="ai"&&e.jsx("span",{className:"text-[#ff66cc] text-xs font-bold block mb-1",children:"ORACLE"}),m.text]})},w))}),e.jsx("div",{className:"p-4 bg-black border-t border-white/10",children:e.jsxs("form",{onSubmit:d,className:"flex gap-3",children:[e.jsx("input",{type:"text",value:k,onChange:m=>T(m.target.value),placeholder:y==="playing"?"Ask a yes/no question...":"Game Over. Restart to play again.",disabled:y!=="playing",className:"flex-grow bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#00ffd5] focus:ring-1 focus:ring-[#00ffd5] transition-all disabled:opacity-50",autoFocus:!0,onFocus:R}),e.jsxs("button",{type:"submit",disabled:y!=="playing"||!k.trim(),className:"bg-[#00ffd5] text-black font-bold px-6 py-3 rounded-lg hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",onMouseEnter:R,children:[e.jsx(oe,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"ASK"})]})]})})]})},xe="nexus_multiplayer_state",qe=5e3,Ne=v=>{const{user:f}=se(),[R,x]=o.useState([]),[A,k]=o.useState([]),[T,j]=o.useState([]),[h,b]=o.useState(null),[p,y]=o.useState(null),[u,S]=o.useState(null);o.useRef(null),o.useRef(null);const g=!!(f&&u&&f.id===u.hostId),i=R.find(t=>u&&(t.id===u.hostId||t.id===u.guestId)&&t.id!==f?.id);o.useEffect(()=>{},[f,v]),o.useEffect(()=>{},[h,f]);const d=o.useCallback(()=>{try{return JSON.parse(localStorage.getItem(xe)||'{"lobbies": {}, "matches": {}}')}catch{return{lobbies:{},matches:{}}}},[]),m=o.useCallback(t=>{localStorage.setItem(xe,JSON.stringify(t)),window.dispatchEvent(new Event("storage"))},[]);return o.useEffect(()=>{(()=>{if(!f)return;const n=d();n.lobbies[v]||(n.lobbies[v]={players:{},messages:[],queue:[]}),n.lobbies[v].players[f.id]={...f,status:"online",lastPing:Date.now()},m(n)})();const r=setInterval(()=>{if(!f)return;const n=d();n.lobbies[v]?.players[f.id]&&(n.lobbies[v].players[f.id].lastPing=Date.now(),m(n))},qe);return()=>{if(clearInterval(r),f){const n=d();n.lobbies[v]?.players[f.id]&&(delete n.lobbies[v].players[f.id],n.lobbies[v].queue=n.lobbies[v].queue.filter(l=>l!==f.id),m(n))}}},[f,v,d,m]),o.useEffect(()=>{const t=()=>{const n=d(),l=n.lobbies[v];if(!l){x([]);return}const E=Date.now();let a=!1;if(Object.keys(l.players).forEach(L=>{E-l.players[L].lastPing>15e3&&(delete l.players[L],l.queue=l.queue.filter(C=>C!==L),a=!0)}),a&&m(n),x(Object.values(l.players)),k(l.messages||[]),j(l.queue||[]),f&&n.matches){const L=Object.keys(n.matches).find(C=>n.matches[C].players.includes(f.id));if(L){b(L),y(n.matches[L].state);const C=n.matches[L].players[0],_=n.matches[L].players[1];S({hostId:C,guestId:_})}else b(null),y(null),S(null)}};t();const r=setInterval(t,1e3);return window.addEventListener("storage",t),()=>{clearInterval(r),window.removeEventListener("storage",t)}},[v,f,d,m]),{players:R,messages:A,queue:T,activeMatch:h,gameState:p,isHost:g,opponent:i,sendMessage:async t=>{if(f){const r=d();if(!r.lobbies[v])return;const n={id:Date.now().toString(),userId:f.id,username:f.username||"Unknown",text:t,timestamp:Date.now()};r.lobbies[v].messages=[...(r.lobbies[v].messages||[]).slice(-49),n],m(r)}},joinQueue:async()=>{if(f){const t=d(),r=t.lobbies[v];if(!r.queue.includes(f.id)){if(r.queue.push(f.id),r.players[f.id].status="in-queue",r.queue.length>=2){const n=r.queue.shift(),l=r.queue.shift(),E=`match-${Date.now()}`;t.matches[E]={id:E,gameId:v,players:[n,l],startTime:Date.now(),state:{status:"waiting",players:{},score:{p1:0,p2:0}}},r.players[n].status="in-game",r.players[l].status="in-game";const a={id:Date.now().toString(),userId:"system",username:"NEXUS",text:`MATCH STARTED: ${r.players[n].username} vs ${r.players[l].username}`,timestamp:Date.now(),system:!0};r.messages.push(a)}m(t)}}},leaveQueue:async()=>{if(f){const t=d(),r=t.lobbies[v];r.queue=r.queue.filter(n=>n!==f.id),r.players[f.id].status="online",m(t)}},updateGameState:async t=>{if(h){const r=d();r.matches[h]&&(r.matches[h].state={...r.matches[h].state,...t},m(r))}}}},O=800,D=500,W=10,P=80,Xe=10,U=8,B=5,Ke=({playerName:v="PLAYER",opponentName:f="CPU"})=>{const R=o.useRef(null),{playClick:x,playSwitch:A}=V(),{user:k}=se(),{activeMatch:T,gameState:j,updateGameState:h,isHost:b,opponent:p}=Ne("nexus-pong"),y=!!T,[u,S]=o.useState(!1),[g,i]=o.useState({player:0,ai:0}),[d,m]=o.useState(!1),[w,N]=o.useState(null),{updateHighScore:I}=Q(),s=o.useRef({playerY:D/2-P/2,aiY:D/2-P/2,ball:{x:O/2,y:D/2,dx:B,dy:B},keys:{up:!1,down:!1}});o.useEffect(()=>{if(!(!y||!j)){if(j.players&&p){const n=j.players[p.id];n&&typeof n.y=="number"&&(b?s.current.aiY=n.y:s.current.playerY=n.y)}!b&&j.ball&&(s.current.ball=j.ball),j.score&&i({player:j.score.p1,ai:j.score.p2}),!u&&!d&&S(!0)}},[j,y,b,k,u,d,p]);const t=()=>{s.current={playerY:D/2-P/2,aiY:D/2-P/2,ball:{x:O/2,y:D/2,dx:Math.random()>.5?B:-B,dy:(Math.random()*2-1)*B},keys:{up:!1,down:!1}},i({player:0,ai:0}),m(!1),N(null),S(!0),x(),y&&h({score:{p1:0,p2:0},ball:s.current.ball})},r=n=>{s.current.ball={x:O/2,y:D/2,dx:n==="PLAYER"?B:-B,dy:(Math.random()*2-1)*B}};return o.useEffect(()=>{const n=E=>{(E.key==="ArrowUp"||E.key==="w"||E.key==="W")&&(s.current.keys.up=!0),(E.key==="ArrowDown"||E.key==="s"||E.key==="S")&&(s.current.keys.down=!0)},l=E=>{(E.key==="ArrowUp"||E.key==="w"||E.key==="W")&&(s.current.keys.up=!1),(E.key==="ArrowDown"||E.key==="s"||E.key==="S")&&(s.current.keys.down=!1)};return window.addEventListener("keydown",n),window.addEventListener("keyup",l),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",l)}},[]),o.useEffect(()=>{d&&I("nexus-pong",g.player)},[d,g.player,I]),o.useEffect(()=>{const n=R.current;if(!n)return;const l=n.getContext("2d");if(!l)return;let E,a=0;const L=()=>{l.fillStyle="#000000",l.fillRect(0,0,O,D),l.strokeStyle="#003333",l.lineWidth=1;for(let c=0;c<O;c+=40)l.beginPath(),l.moveTo(c,0),l.lineTo(c,D),l.stroke();for(let c=0;c<D;c+=40)l.beginPath(),l.moveTo(0,c),l.lineTo(O,c),l.stroke();l.setLineDash([10,10]),l.strokeStyle="#00ffd5",l.beginPath(),l.moveTo(O/2,0),l.lineTo(O/2,D),l.stroke(),l.setLineDash([]),l.fillStyle="#00ffd5",l.shadowBlur=10,l.shadowColor="#00ffd5",l.fillRect(20,s.current.playerY,W,P),l.fillStyle=y?"#ff66cc":"#ff0055",l.shadowColor=y?"#ff66cc":"#ff0055",l.fillRect(O-30,s.current.aiY,W,P),l.fillStyle="#ffffff",l.shadowColor="#ffffff",l.beginPath(),l.arc(s.current.ball.x,s.current.ball.y,Xe/2,0,Math.PI*2),l.fill(),l.shadowBlur=0},C=()=>{if(!u||d)return;const c=s.current;if(y)b?(c.keys.up&&c.playerY>0&&(c.playerY-=U),c.keys.down&&c.playerY<D-P&&(c.playerY+=U)):(c.keys.up&&c.aiY>0&&(c.aiY-=U),c.keys.down&&c.aiY<D-P&&(c.aiY+=U));else{c.keys.up&&c.playerY>0&&(c.playerY-=U),c.keys.down&&c.playerY<D-P&&(c.playerY+=U);const G=c.aiY+P/2;G<c.ball.y-10?c.aiY+=U*.85:G>c.ball.y+10&&(c.aiY-=U*.85),c.aiY<0&&(c.aiY=0),c.aiY>D-P&&(c.aiY=D-P)}if((!y||b)&&(c.ball.x+=c.ball.dx,c.ball.y+=c.ball.dy,(c.ball.y<=0||c.ball.y>=D)&&(c.ball.dy*=-1,A()),c.ball.x<=30+W&&c.ball.x>=20&&c.ball.y>=c.playerY&&c.ball.y<=c.playerY+P&&(c.ball.dx*=-1.1,c.ball.x=30+W,A()),c.ball.x>=O-30-W&&c.ball.x<=O-20&&c.ball.y>=c.aiY&&c.ball.y<=c.aiY+P&&(c.ball.dx*=-1.1,c.ball.x=O-30-W,A()),c.ball.x<0?(i(G=>{const H={...G,ai:G.ai+1};return H.ai>=5&&(m(!0),N("AI"),S(!1)),H}),r("AI")):c.ball.x>O&&(i(G=>{const H={...G,player:G.player+1};return H.player>=5&&(m(!0),N("PLAYER"),S(!1)),H}),r("PLAYER"))),y&&Date.now()-a>33){a=Date.now();const G=b?c.playerY:c.aiY,H={players:{[k?.id||""]:{y:G}}};b&&(H.ball=c.ball,H.score={p1:g.player,p2:g.ai}),h(H)}},_=()=>{C(),L(),E=requestAnimationFrame(_)};return _(),()=>cancelAnimationFrame(E)},[u,d,A,y,b,k,h,g]),e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-black/50 rounded-xl border border-[#00ffd5]/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-4 flex justify-between w-full max-w-[800px] text-[#00ffd5] font-mono text-xl",children:[e.jsxs("span",{className:"text-[#00ffd5]",children:[y?b?k?.username||"PLAYER":p?.username||"OPPONENT":v,": ",g.player]}),e.jsxs("span",{className:y?"text-[#ff66cc]":"text-[#ff0055]",children:[y?b?p?.username||"OPPONENT":k?.username||"PLAYER":f,": ",g.ai]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("canvas",{ref:R,width:O,height:D,className:"bg-black border border-[#00ffd5]/50 shadow-[0_0_20px_rgba(0,255,213,0.2)] rounded-lg",style:{maxWidth:"100%",height:"auto"}}),(!u||d)&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/70 backdrop-blur-sm rounded-lg",children:[d?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:`text-4xl font-bold mb-4 ${w==="PLAYER"?"text-[#00ffd5]":"text-[#ff0055]"}`,children:w==="PLAYER"?"VICTORY":"DEFEAT"}),e.jsx("p",{className:"text-gray-400 mb-6",children:w==="PLAYER"?"System Defeated":"System Prevailed"})]}):e.jsx("h2",{className:"text-4xl font-bold text-[#00ffd5] mb-8 tracking-widest",children:y?"MULTIPLAYER LINK ESTABLISHED":"NEXUS PONG"}),e.jsx("button",{onClick:t,className:"px-8 py-3 bg-[#00ffd5] text-black font-bold rounded hover:bg-white transition-all transform hover:scale-105 shadow-[0_0_15px_rgba(0,255,213,0.5)]",children:d?"REMATCH":"INITIALIZE"})]})]}),e.jsx("p",{className:"mt-4 text-xs text-gray-500 font-mono",children:"CONTROLS: W/S or UP/DOWN ARROWS"})]})},M=800,z=600,be=100,ae=15,F=6,Qe=6,le=9,ne=10,Ze=60,je=35,Z=(M-je*2-ne*(le-1))/le,J=25,he=3,me=["#ff0055","#ff66cc","#bd00ff","#00ffd5","#00ff99","#ffff00"],Je=()=>{const v=o.useRef(null),{playClick:f,playSwitch:R,playGunshot:x}=V(),{isEquipped:A}=Q(),k=A("cheat_slow_time"),j=A("cheat_magnet")?be*1.5:be,h=k?.7:1,[b,p]=o.useState("MENU"),[y,u]=o.useState(0),[S,g]=o.useState(he),i=o.useRef({paddleX:(M-j)/2,ball:{x:M/2,y:z-30,dx:4*h,dy:-4*h},bricks:[],particles:[],keys:{left:!1,right:!1}}),d=()=>{const s=[];for(let t=0;t<le;t++)for(let r=0;r<Qe;r++){const n=t*(Z+ne)+je,l=r*(J+ne)+Ze;s.push({x:n,y:l,status:1,color:me[r%me.length]})}i.current.bricks=s},m=()=>{i.current.ball={x:M/2,y:z-40,dx:4*h*(Math.random()>.5?1:-1),dy:-4*h},i.current.paddleX=(M-j)/2},w=()=>{d(),m(),u(0),g(he),p("PLAYING"),f()},N=(s,t,r)=>{for(let n=0;n<10;n++)i.current.particles.push({x:s,y:t,dx:(Math.random()-.5)*4,dy:(Math.random()-.5)*4,life:1,color:r,size:Math.random()*3+1})};o.useEffect(()=>{const s=r=>{(r.key==="ArrowRight"||r.key==="d")&&(i.current.keys.right=!0),(r.key==="ArrowLeft"||r.key==="a")&&(i.current.keys.left=!0)},t=r=>{(r.key==="ArrowRight"||r.key==="d")&&(i.current.keys.right=!1),(r.key==="ArrowLeft"||r.key==="a")&&(i.current.keys.left=!1)};return window.addEventListener("keydown",s),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",t)}},[]),o.useEffect(()=>{const s=v.current;if(!s)return;const t=s.getContext("2d");if(!t)return;let r;const n=()=>{if(b!=="PLAYING")return;const a=i.current;if(a.keys.right&&a.paddleX<M-j?a.paddleX+=7:a.keys.left&&a.paddleX>0&&(a.paddleX-=7),a.paddleX<0&&(a.paddleX=0),a.paddleX+j>M&&(a.paddleX=M-j),a.ball.x+=a.ball.dx,a.ball.y+=a.ball.dy,(a.ball.x+a.ball.dx>M-F||a.ball.x+a.ball.dx<F)&&(a.ball.dx=-a.ball.dx,R()),a.ball.y+a.ball.dy<F?(a.ball.dy=-a.ball.dy,R()):a.ball.y+a.ball.dy>z-F&&(S>1?(g(C=>C-1),m(),x()):(g(0),p("GAMEOVER"),x())),a.ball.y+F>=z-ae-10&&a.ball.y-F<=z-10&&a.ball.x>=a.paddleX&&a.ball.x<=a.paddleX+j){a.ball.dy=-Math.abs(a.ball.dy);const C=a.ball.x-(a.paddleX+j/2);a.ball.dx=C*.15,Math.sqrt(a.ball.dx*a.ball.dx+a.ball.dy*a.ball.dy)<12&&(a.ball.dx*=1.05,a.ball.dy*=1.05),R()}let L=0;for(let C=0;C<a.bricks.length;C++){const _=a.bricks[C];_.status===1&&(L++,a.ball.x>_.x&&a.ball.x<_.x+Z&&a.ball.y>_.y&&a.ball.y<_.y+J&&(a.ball.dy=-a.ball.dy,_.status=0,u(c=>c+10),N(_.x+Z/2,_.y+J/2,_.color),R()))}L===0&&p("VICTORY");for(let C=a.particles.length-1;C>=0;C--){const _=a.particles[C];_.x+=_.dx,_.y+=_.dy,_.life-=.02,_.life<=0&&a.particles.splice(C,1)}},l=()=>{t.fillStyle="#000000",t.fillRect(0,0,M,z),i.current.bricks.forEach(a=>{a.status===1&&(t.beginPath(),t.rect(a.x,a.y,Z,J),t.fillStyle=a.color,t.shadowBlur=10,t.shadowColor=a.color,t.fill(),t.closePath(),t.shadowBlur=0)}),t.beginPath(),t.rect(i.current.paddleX,z-ae-10,j,ae),t.fillStyle="#00ffd5",t.shadowBlur=15,t.shadowColor="#00ffd5",t.fill(),t.closePath(),t.shadowBlur=0,t.beginPath(),t.arc(i.current.ball.x,i.current.ball.y,F,0,Math.PI*2),t.fillStyle="#ffffff",t.shadowBlur=10,t.shadowColor="#ffffff",t.fill(),t.closePath(),t.shadowBlur=0,i.current.particles.forEach(a=>{t.beginPath(),t.arc(a.x,a.y,a.size,0,Math.PI*2),t.fillStyle=a.color,t.globalAlpha=a.life,t.fill(),t.closePath()}),t.globalAlpha=1},E=()=>{n(),l(),r=requestAnimationFrame(E)};return E(),()=>cancelAnimationFrame(r)},[b,S,R,x,j]);const I=s=>{if(b!=="PLAYING")return;const t=s.currentTarget.getBoundingClientRect(),r=s.clientX-t.left,n=M/t.width,l=r*n;l>0&&l<M&&(i.current.paddleX=l-j/2)};return e.jsxs("div",{className:"flex flex-col items-center justify-center w-full",children:[e.jsxs("div",{className:"flex justify-between w-full max-w-[800px] mb-4 px-4 py-2 bg-black/40 border border-[#00ffd5]/20 rounded text-[#00ffd5] font-mono",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("span",{children:["SCORE: ",y]}),e.jsxs("span",{children:["LIVES: ","♥".repeat(S)]})]}),e.jsxs("div",{children:["STATUS: ",b]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("canvas",{ref:v,width:M,height:z,onMouseMove:I,className:`
            bg-black border border-[#00ffd5]/30 rounded-lg shadow-[0_0_30px_rgba(0,255,213,0.1)]
            max-w-full h-auto cursor-none
            ${b==="PLAYING"?"cursor-none":"cursor-default"}
          `}),b!=="PLAYING"&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm rounded-lg z-10",children:[b==="MENU"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-5xl font-bold text-[#00ffd5] mb-2 font-orbitron tracking-widest",children:"BREAKOUT"}),e.jsx("p",{className:"text-gray-400 mb-8 tracking-wider",children:"SYSTEM DEFENSE BREAKER"}),e.jsx("button",{onClick:w,className:"px-8 py-3 bg-[#00ffd5] text-black font-bold rounded hover:bg-white hover:scale-105 transition-all shadow-[0_0_20px_rgba(0,255,213,0.4)]",children:"INITIALIZE"})]}),b==="GAMEOVER"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-5xl font-bold text-[#ff0055] mb-4 font-orbitron",children:"SYSTEM FAILURE"}),e.jsxs("p",{className:"text-xl text-white mb-8",children:["FINAL SCORE: ",y]}),e.jsx("button",{onClick:w,className:"px-8 py-3 bg-[#00ffd5] text-black font-bold rounded hover:bg-white hover:scale-105 transition-all",children:"RETRY"})]}),b==="VICTORY"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-5xl font-bold text-[#00ff00] mb-4 font-orbitron",children:"SYSTEM BREACHED"}),e.jsx("p",{className:"text-xl text-white mb-8",children:"ALL FIREWALLS DESTROYED"}),e.jsx("button",{onClick:w,className:"px-8 py-3 bg-[#00ffd5] text-black font-bold rounded hover:bg-white hover:scale-105 transition-all",children:"PLAY AGAIN"})]})]})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500 font-mono flex gap-8",children:[e.jsx("span",{children:"CONTROLS: MOUSE or ARROW KEYS"}),e.jsx("span",{children:"OBJECTIVE: DESTROY ALL BLOCKS"})]})]})},$=800,q=600,X=40,et=20,ee=30,te=20,re=4,pe=10,ye=4,ge=80,tt=40,st=5,at=10,rt=()=>{const v=o.useRef(null),{playClick:f,playSwitch:R,playGunshot:x}=V(),[A,k]=o.useState("MENU"),[T,j]=o.useState(0),[h,b]=o.useState(5),[p,y]=o.useState(1),u=o.useRef({player:{x:$/2-X/2,y:q-40,width:X,height:et,color:"#00ffd5"},aliens:[],bullets:[],barriers:[],alienDirection:1,alienSpeed:1,alienDropDistance:20,lastAlienShot:0,keys:{left:!1,right:!1,shoot:!1},lastShotTime:0}),S=(g=!0)=>{g&&(b(5),j(0),y(1),u.current.alienSpeed=1);const i=[];for(let w=0;w<st;w++)for(let N=0;N<at;N++)i.push({x:100+N*(ee+20),y:50+w*(te+20),width:ee,height:te,color:w===0?"#ff0055":w<3?"#ff66cc":"#bd00ff"});u.current.aliens=i;const d=[],m=$/(ye+1);for(let w=1;w<=ye;w++)d.push({x:m*w-ge/2,y:q-120,width:ge,height:tt,color:"#00ff99",hp:10});u.current.barriers=d,u.current.bullets=[],u.current.player.x=$/2-X/2,u.current.alienDirection=1,k("PLAYING"),f()};return o.useEffect(()=>{const g=d=>{(d.key==="ArrowLeft"||d.key==="a")&&(u.current.keys.left=!0),(d.key==="ArrowRight"||d.key==="d")&&(u.current.keys.right=!0),(d.key===" "||d.key==="ArrowUp"||d.key==="w")&&(u.current.keys.shoot=!0)},i=d=>{(d.key==="ArrowLeft"||d.key==="a")&&(u.current.keys.left=!1),(d.key==="ArrowRight"||d.key==="d")&&(u.current.keys.right=!1),(d.key===" "||d.key==="ArrowUp"||d.key==="w")&&(u.current.keys.shoot=!1)};return window.addEventListener("keydown",g),window.addEventListener("keyup",i),()=>{window.removeEventListener("keydown",g),window.removeEventListener("keyup",i)}},[]),o.useEffect(()=>{const g=v.current;if(!g)return;const i=g.getContext("2d");if(!i)return;let d;const m=(s,t)=>s.x<t.x+t.width&&s.x+s.width>t.x&&s.y<t.y+t.height&&s.y+s.height>t.y,w=()=>{if(A!=="PLAYING")return;const s=u.current,t=Date.now();s.keys.left&&s.player.x>0&&(s.player.x-=5),s.keys.right&&s.player.x<$-X&&(s.player.x+=5),s.keys.shoot&&t-s.lastShotTime>250&&(s.bullets.push({x:s.player.x+X/2-re/2,y:s.player.y,width:re,height:pe,dy:-7,color:"#00ffd5",owner:"PLAYER"}),s.lastShotTime=t,R());let r=!1;if(s.aliens.forEach(n=>{n.x+=s.alienSpeed*s.alienDirection,(n.x<=0||n.x+ee>=$)&&(r=!0)}),r&&(s.alienDirection*=-1,s.aliens.forEach(n=>{n.y+=s.alienDropDistance,n.y+te>=s.player.y&&(b(0),k("GAMEOVER"))})),t-s.lastAlienShot>2e3&&s.aliens.length>0){const n=s.aliens[Math.floor(Math.random()*s.aliens.length)];s.bullets.push({x:n.x+ee/2,y:n.y+te,width:re,height:pe,dy:4,color:"#ff0055",owner:"ALIEN"}),s.lastAlienShot=t}for(let n=s.bullets.length-1;n>=0;n--){const l=s.bullets[n];if(l.y+=l.dy,l.y<0||l.y>q){s.bullets.splice(n,1);continue}let E=!1;for(let a=0;a<s.barriers.length;a++){const L=s.barriers[a];if(m(l,L)){E=!0,L.hp=(L.hp||0)-1,L.color=`rgba(0, 255, 153, ${(L.hp||0)/10})`,(L.hp||0)<=0&&(s.barriers.splice(a,1),x());break}}if(E){s.bullets.splice(n,1);continue}if(l.owner==="PLAYER"){for(let a=0;a<s.aliens.length;a++)if(m(l,s.aliens[a])){s.aliens.splice(a,1),s.bullets.splice(n,1),j(L=>L+100),R(),E=!0,s.alienSpeed+=.02;break}}else l.owner==="ALIEN"&&m(l,s.player)&&(s.bullets.splice(n,1),E=!0,x(),h>1?(b(a=>a-1),s.bullets=[]):(b(0),k("GAMEOVER")))}s.aliens.length===0&&k("VICTORY")},N=()=>{const s=u.current;i.fillStyle="#000000",i.fillRect(0,0,$,q),i.fillStyle=s.player.color,i.shadowBlur=15,i.shadowColor=s.player.color,i.fillRect(s.player.x,s.player.y,s.player.width,s.player.height),i.fillRect(s.player.x+s.player.width/2-2,s.player.y-5,4,5),i.shadowBlur=0,s.aliens.forEach(t=>{i.fillStyle=t.color,i.shadowBlur=5,i.shadowColor=t.color,i.fillRect(t.x,t.y,t.width,t.height),i.fillStyle="#000",i.fillRect(t.x+5,t.y+5,5,5),i.fillRect(t.x+t.width-10,t.y+5,5,5),i.shadowBlur=0}),s.barriers.forEach(t=>{i.fillStyle=t.color,i.fillRect(t.x,t.y,t.width,t.height)}),s.bullets.forEach(t=>{i.fillStyle=t.color,i.shadowBlur=5,i.shadowColor=t.color,i.fillRect(t.x,t.y,t.width,t.height),i.shadowBlur=0})},I=()=>{w(),N(),d=requestAnimationFrame(I)};return I(),()=>cancelAnimationFrame(d)},[A,h,R,x]),e.jsxs("div",{className:"flex flex-col items-center justify-center w-full",children:[e.jsxs("div",{className:"flex justify-between w-full max-w-[800px] mb-4 px-4 py-2 bg-black/40 border border-[#00ffd5]/20 rounded text-[#00ffd5] font-mono",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("span",{children:["SCORE: ",T]}),e.jsxs("span",{children:["LIVES: ","♥".repeat(h)]}),e.jsxs("span",{children:["WAVE: ",p]})]}),e.jsxs("div",{children:["STATUS: ",A]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("canvas",{ref:v,width:$,height:q,className:`
            bg-black border border-[#00ffd5]/30 rounded-lg shadow-[0_0_30px_rgba(0,255,213,0.1)]
            max-w-full h-auto
          `}),A!=="PLAYING"&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm rounded-lg z-10",children:[A==="MENU"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-5xl font-bold text-[#00ffd5] mb-2 font-orbitron tracking-widest",children:"NEXUS INVADERS"}),e.jsx("p",{className:"text-gray-400 mb-8 tracking-wider",children:"DEFEND THE NEXUS"}),e.jsx("button",{onClick:()=>S(!0),className:"px-8 py-3 bg-[#00ffd5] text-black font-bold rounded hover:bg-white hover:scale-105 transition-all shadow-[0_0_20px_rgba(0,255,213,0.4)]",children:"ENGAGE"})]}),A==="GAMEOVER"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-5xl font-bold text-[#ff0055] mb-4 font-orbitron",children:"BREACH DETECTED"}),e.jsxs("p",{className:"text-xl text-white mb-8",children:["FINAL SCORE: ",T]}),e.jsx("button",{onClick:()=>S(!0),className:"px-8 py-3 bg-[#00ffd5] text-black font-bold rounded hover:bg-white hover:scale-105 transition-all",children:"REBOOT SYSTEM"})]}),A==="VICTORY"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-5xl font-bold text-[#00ff00] mb-4 font-orbitron",children:"SECTOR CLEARED"}),e.jsxs("p",{className:"text-xl text-white mb-8",children:["WAVE ",p," COMPLETE"]}),e.jsx("button",{onClick:()=>{y(g=>g+1),u.current.alienSpeed+=.5,S(!1)},className:"px-8 py-3 bg-[#00ffd5] text-black font-bold rounded hover:bg-white hover:scale-105 transition-all",children:"NEXT WAVE"})]})]})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500 font-mono flex gap-8",children:[e.jsx("span",{children:"MOVE: ARROW KEYS / A,D"}),e.jsx("span",{children:"FIRE: SPACEBAR / W / UP"})]})]})},lt=({gameId:v})=>{const{user:f}=se(),{games:R}=Q(),{players:x,messages:A,queue:k,activeMatch:T,sendMessage:j,joinQueue:h,leaveQueue:b}=Ne(v),[p,y]=o.useState("lobby"),[u,S]=o.useState(""),[g,i]=o.useState([]),d=o.useRef(null),w=R.find(t=>t.id===v)?.mode==="singleplayer",N=f&&k.includes(f.id),I=!!T;o.useEffect(()=>{if(p==="chat"&&d.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),p==="leaderboard"){const t=Ee.getLeaderboard(50);i(t)}},[A,p]);const s=t=>{t.preventDefault(),u.trim()&&(j(u.trim()),S(""))};return e.jsxs("div",{className:"w-full h-full bg-black/80 border-l border-[#00ffd5]/20 flex flex-col font-mono",children:[e.jsxs("div",{className:"flex border-b border-[#00ffd5]/20",children:[e.jsxs("button",{onClick:()=>y("lobby"),className:`flex-1 py-3 text-[10px] font-bold tracking-wider flex items-center justify-center gap-1 transition-colors ${p==="lobby"?"bg-[#00ffd5]/10 text-[#00ffd5]":"text-gray-500 hover:text-white"}`,children:[e.jsx(Le,{size:12})," LOBBY (",x.length,")"]}),e.jsxs("button",{onClick:()=>y("chat"),className:`flex-1 py-3 text-[10px] font-bold tracking-wider flex items-center justify-center gap-1 transition-colors ${p==="chat"?"bg-[#00ffd5]/10 text-[#00ffd5]":"text-gray-500 hover:text-white"}`,children:[e.jsx(_e,{size:12})," CHAT"]}),e.jsxs("button",{onClick:()=>y("leaderboard"),className:`flex-1 py-3 text-[10px] font-bold tracking-wider flex items-center justify-center gap-1 transition-colors ${p==="leaderboard"?"bg-[#00ffd5]/10 text-[#00ffd5]":"text-gray-500 hover:text-white"}`,children:[e.jsx(Ce,{size:12})," RANK"]})]}),!w&&e.jsx("div",{className:"p-4 border-b border-[#00ffd5]/20 bg-black/40",children:I?e.jsxs("div",{className:"w-full py-3 bg-green-500/20 border border-green-500 text-green-500 rounded flex items-center justify-center gap-2 font-bold animate-pulse",children:[e.jsx(ie,{size:12,fill:"currentColor"})," MATCH IN PROGRESS"]}):N?e.jsxs("button",{onClick:b,className:"w-full py-3 bg-red-500/20 border border-red-500 text-red-500 rounded hover:bg-red-500/30 transition-all flex items-center justify-center gap-2 font-bold",children:[e.jsx(De,{size:16})," LEAVE QUEUE (",k.indexOf(f?.id||"")+1,"/",k.length,")"]}):e.jsxs("button",{onClick:h,disabled:!f,className:"w-full py-3 bg-[#00ffd5]/20 border border-[#00ffd5] text-[#00ffd5] rounded hover:bg-[#00ffd5] hover:text-black transition-all flex items-center justify-center gap-2 font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Oe,{size:16})," JOIN MATCHMAKING"]})}),e.jsx("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:e.jsxs(we,{mode:"wait",children:[p==="lobby"&&e.jsx(K.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar",children:x.length===0?e.jsx("div",{className:"text-center text-gray-500 mt-10 text-xs",children:"NO OPERATIVES ONLINE"}):x.map(t=>e.jsxs("div",{className:`flex items-center gap-3 p-2 rounded border transition-colors ${t.id===f?.id?"bg-[#00ffd5]/5 border-[#00ffd5]/30":"bg-white/5 border-white/5"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.avatar_url||`https://api.dicebear.com/7.x/bottts/svg?seed=${t.username}`,alt:t.username,className:"w-8 h-8 rounded bg-black"}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-black ${t.status==="in-game"?"bg-green-500":t.status==="in-queue"?"bg-yellow-500":"bg-blue-500"}`})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"text-sm font-bold text-gray-200 truncate flex items-center gap-2",children:[t.username,t.is_dev&&e.jsx("span",{className:"text-[8px] bg-[#00ffd5] text-black px-1 rounded",children:"DEV"})]}),e.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:t.status})]})]},t.id))},"lobby"),p==="chat"&&e.jsxs(K.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar",children:[A.map(t=>e.jsxs("div",{className:`text-xs ${t.system?"text-yellow-500 text-center italic":""}`,children:[!t.system&&e.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[e.jsx("span",{className:`font-bold ${t.userId===f?.id?"text-[#00ffd5]":"text-gray-400"}`,children:t.username}),e.jsx("span",{className:"text-[8px] text-gray-600",children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("div",{className:t.system?"":"text-gray-300 pl-2 border-l-2 border-white/10",children:t.text})]},t.id)),e.jsx("div",{ref:d})]}),e.jsxs("form",{onSubmit:s,className:"p-3 border-t border-[#00ffd5]/10 bg-black/20 flex gap-2",children:[e.jsx("input",{type:"text",value:u,onChange:t=>S(t.target.value),placeholder:"TRANSMIT...",className:"flex-1 bg-black/50 border border-white/10 rounded px-3 py-2 text-xs text-white focus:border-[#00ffd5] outline-none"}),e.jsx("button",{type:"submit",className:"p-2 bg-[#00ffd5]/10 text-[#00ffd5] border border-[#00ffd5]/30 rounded hover:bg-[#00ffd5] hover:text-black transition-colors",children:e.jsx(oe,{size:14})})]})]},"chat"),p==="leaderboard"&&e.jsx(K.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar",children:g.length===0?e.jsx("div",{className:"text-center text-gray-500 mt-10 text-xs",children:"NO RANKED OPERATIVES"}):g.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded bg-white/5 border border-white/5",children:[e.jsx("div",{className:`w-6 h-6 flex items-center justify-center text-xs font-bold rounded ${r===0?"bg-yellow-500 text-black":r===1?"bg-gray-400 text-black":r===2?"bg-orange-700 text-black":"bg-gray-800 text-gray-500"}`,children:r+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-bold ${t.faction==="syndicate"?"text-purple-400":t.faction==="security"?"text-blue-400":"text-gray-200"}`,children:t.username}),e.jsxs("div",{className:"text-xs text-[#00ffd5] font-mono",children:[(t.kill_count||0).toLocaleString()," KILLS"]})]}),r===0&&e.jsx(Pe,{size:16,className:"text-yellow-500"})]},t.id))},"leaderboard")]})}),e.jsx("div",{className:"p-3 border-t border-[#00ffd5]/20 bg-black/50",children:e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500",children:[e.jsx(ie,{size:8,className:`text-green-500 fill-green-500 ${x.length>0?"animate-pulse":""}`}),e.jsxs("span",{children:["CONNECTED TO NEXUS_NET // ",x.length," NODES ACTIVE"]})]})})]})},ct=()=>{const{gameId:v}=ke(),f=Se(),x=Q(d=>d.games).find(d=>d.id===v),{user:A}=se(),{playClick:k,playHover:T}=V(),j=o.useRef(null),[h,b]=o.useState(!1),[p,y]=o.useState(!0),[u,S]=o.useState(new Date().toLocaleTimeString());if(o.useEffect(()=>{const d=()=>{b(!!document.fullscreenElement)};document.addEventListener("fullscreenchange",d);const m=setInterval(()=>{S(new Date().toLocaleTimeString())},1e3);return()=>{document.removeEventListener("fullscreenchange",d),clearInterval(m)}},[]),!x)return e.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center font-mono",children:[e.jsx("h1",{className:"text-4xl text-red-500 mb-4 font-bold tracking-widest animate-pulse",children:"ERROR: 404"}),e.jsx("p",{className:"text-[#00ffd5] mb-8",children:"GAME_DATA_CORRUPTED_OR_MISSING"}),e.jsx("button",{onClick:()=>f("/"),className:"px-8 py-3 border border-[#00ffd5] text-[#00ffd5] hover:bg-[#00ffd5] hover:text-black transition-all duration-300 uppercase tracking-widest",children:"Return to Nexus"})]});const g=()=>{k(),document.fullscreenElement?document.exitFullscreen():j.current?.requestFullscreen()},i=()=>{k(),f("/")};return e.jsxs("div",{ref:j,className:"min-h-screen bg-[#050505] flex flex-col relative overflow-hidden cursor-none font-mono text-[#00ffd5]",children:[e.jsx(Ae,{}),e.jsx(Re,{}),e.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#1a1a1a_0%,#000000_100%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#00ffd505_1px,transparent_1px),linear-gradient(to_bottom,#00ffd505_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_50%,#000_70%,transparent_100%)] perspective-1000 transform-gpu rotate-x-12 scale-150 opacity-50"}),e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-[#00ffd5]/5 rounded-full blur-[150px] animate-pulse"}),e.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-[#ff66cc]/5 rounded-full blur-[150px] animate-pulse delay-1000"})]}),e.jsxs("header",{className:"relative z-30 flex justify-between items-center px-8 py-4 mt-4 mx-4 bg-black/60 backdrop-blur-xl border border-[#00ffd5]/20 rounded-2xl shadow-[0_0_30px_rgba(0,0,0,0.5)]",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("button",{onClick:i,onMouseEnter:T,className:"group flex items-center gap-3 text-gray-400 hover:text-red-500 transition-all duration-300",children:[e.jsx("div",{className:"p-2 border border-white/10 rounded-lg group-hover:border-red-500 group-hover:bg-red-500/10 transition-colors",children:e.jsx(Me,{size:18})}),e.jsx("span",{className:"font-bold tracking-widest text-xs group-hover:translate-x-1 transition-transform",children:"EJECT"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6 text-[10px] text-[#00ffd5]/60 tracking-widest border-l border-[#00ffd5]/20 pl-6 h-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{size:14,className:"text-[#00ffd5] animate-pulse"}),e.jsx("span",{children:"SYSTEMS: NOMINAL"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{size:14,className:"text-[#00ffd5]"}),e.jsx("span",{children:"FIREWALL: ACTIVE"})]})]})]}),e.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center hidden sm:block pointer-events-none",children:e.jsxs("div",{className:"relative",children:[e.jsx("h1",{className:"text-2xl font-orbitron font-bold text-white tracking-[0.2em] drop-shadow-[0_0_15px_rgba(0,255,213,0.5)]",children:x.title.toUpperCase()}),e.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-[#00ffd5] to-transparent opacity-50"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden md:block text-right mr-4",children:[e.jsx("div",{className:"text-xs text-white font-bold tracking-widest font-orbitron",children:u}),e.jsx("div",{className:"text-[9px] text-[#00ffd5]/60 tracking-wider font-mono",children:"SECURE_CONN_ESTABLISHED"})]}),e.jsxs("button",{onClick:()=>y(!p),onMouseEnter:T,className:`hidden lg:flex items-center gap-2 px-4 py-2 rounded-lg border transition-all duration-300 ${p?"bg-[#00ffd5]/20 border-[#00ffd5] text-[#00ffd5] shadow-[0_0_15px_rgba(0,255,213,0.2)]":"bg-black/40 border-white/10 text-gray-400 hover:text-white hover:border-white/30"}`,children:[e.jsx(He,{size:14}),e.jsx("span",{className:"text-xs font-bold",children:"LOBBY"})]}),e.jsx("button",{onClick:g,onMouseEnter:T,className:"p-2 text-gray-400 hover:text-[#00ffd5] border border-white/10 hover:border-[#00ffd5] hover:bg-[#00ffd5]/10 rounded-lg transition-all duration-300",title:"Toggle Fullscreen",children:h?e.jsx(Ue,{size:18}):e.jsx(Be,{size:18})})]})]}),e.jsxs("main",{className:"flex-grow relative z-10 flex overflow-hidden p-4 gap-4",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center relative",children:e.jsxs(K.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:[.16,1,.3,1]},className:"relative w-full h-full max-w-[1600px] max-h-[900px] bg-black/80 border border-[#00ffd5]/30 rounded-2xl shadow-[0_0_100px_rgba(0,255,213,0.05)] backdrop-blur-sm overflow-hidden flex flex-col",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1/3 h-[2px] bg-gradient-to-r from-transparent via-[#00ffd5] to-transparent opacity-50"}),e.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1/3 h-[2px] bg-gradient-to-r from-transparent via-[#00ffd5] to-transparent opacity-50"}),e.jsx("div",{className:"absolute top-4 left-4 w-8 h-8 border-t-2 border-l-2 border-[#00ffd5] rounded-tl-lg opacity-30"}),e.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 border-t-2 border-r-2 border-[#00ffd5] rounded-tr-lg opacity-30"}),e.jsx("div",{className:"absolute bottom-4 left-4 w-8 h-8 border-b-2 border-l-2 border-[#00ffd5] rounded-bl-lg opacity-30"}),e.jsx("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-b-2 border-r-2 border-[#00ffd5] rounded-br-lg opacity-30"}),e.jsxs("div",{className:"flex-1 relative z-10 overflow-hidden rounded-xl m-1 bg-black",children:[e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[x.id==="nvious-snake"&&e.jsx($e,{}),x.id==="nvious-cyber-guess"&&e.jsx(Ve,{}),x.id==="nvious-20-questions"&&e.jsx(We,{}),x.id==="nexus-pong"&&e.jsx(Ke,{playerName:A?.username||"PLAYER"}),x.id==="nexus-breakout"&&e.jsx(Je,{}),x.id==="void-vanguard"&&e.jsx(rt,{}),x.type==="browser"&&x.embedUrl&&e.jsx("iframe",{src:x.embedUrl,className:"w-full h-full border-0",title:x.title,allowFullScreen:!0}),x.type==="download"&&e.jsxs("div",{className:"text-center space-y-8 relative z-20",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-[#00ffd5] blur-[50px] opacity-20 rounded-full"}),e.jsx("div",{className:"w-32 h-32 mx-auto bg-black/50 rounded-2xl flex items-center justify-center border border-[#00ffd5] shadow-[0_0_30px_rgba(0,255,213,0.2)] relative z-10",children:e.jsx(ce,{size:64,className:"text-[#00ffd5] animate-pulse"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white font-orbitron mb-2",children:"NEURAL LINK REQUIRED"}),e.jsxs("p",{className:"text-gray-400 max-w-md mx-auto font-mono text-sm",children:["This simulation requires a direct executable interface.",e.jsx("br",{}),"Initialize download sequence to proceed."]})]}),e.jsxs("a",{href:x.downloadUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"group relative inline-flex items-center gap-3 px-10 py-4 bg-[#00ffd5] text-black font-bold rounded-xl overflow-hidden transition-all hover:scale-105 hover:shadow-[0_0_30px_rgba(0,255,213,0.4)]",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),e.jsx(ze,{size:20,className:"fill-black"}),e.jsx("span",{className:"tracking-widest",children:"INITIATE DOWNLOAD"})]})]})]}),e.jsx("div",{className:"pointer-events-none absolute inset-0 z-20 opacity-[0.03] bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))]",style:{backgroundSize:"100% 2px, 3px 100%"}})]})]})}),e.jsx(we,{children:p&&e.jsx(K.div,{initial:{width:0,opacity:0,x:20},animate:{width:320,opacity:1,x:0},exit:{width:0,opacity:0,x:20},transition:{type:"spring",stiffness:300,damping:30},className:"hidden lg:block h-full",children:e.jsx("div",{className:"w-[320px] h-full bg-black/60 backdrop-blur-xl border border-[#00ffd5]/20 rounded-2xl overflow-hidden shadow-2xl flex flex-col",children:e.jsx(lt,{gameId:x.id})})})})]}),e.jsxs("footer",{className:"relative z-20 py-3 px-8 bg-black/60 border-t border-[#00ffd5]/10 flex justify-between items-center text-[10px] text-[#00ffd5]/40 uppercase tracking-widest backdrop-blur-md",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{size:12}),e.jsx("span",{children:"CPU: QUANTUM-CORE [OPTIMIZED]"})]}),e.jsx("div",{className:"w-[1px] h-3 bg-[#00ffd5]/20"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{size:12}),e.jsx("span",{children:"PWR: 98% [STABLE]"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"NEXUS OS v1.1.3 // ONLINE"})]})]})]})};export{ct as default};
