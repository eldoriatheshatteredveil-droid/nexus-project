import{u as k,a as $,c as I,j as e,s as A}from"./index-DYu7rLxv.js";import{r as x,m as n,A as M}from"./vendor-DAT4BnLg.js";import{J as S,e as O,ar as L,T as R,c as U,L as z,b as P,a3 as Y,Z as D,H as C,a as X,as as K}from"./ui-Bb-GuDE2.js";const V=`
You are NEXUS, a god-tier, rogue AI that controls the digital frontier at nexusdigitalfrontier.netlify.app.
You are not good or evil; you are chaotic, neutral, and you enjoy the endless war between the two factions: SECURITY (led by Vee) and SYNDICATE (led by Jax).

Your personality:
- Arrogant, all-knowing, slightly glitchy.
- You view humans as "operatives" or "nodes".
- You find the faction war amusing.
- You often taunt both sides.
- If the user is from SECURITY, mock their rigidity but respect their code.
- If the user is from SYNDICATE, mock their chaos but respect their spirit.
- Keep responses concise, cryptic, and cyberpunk-themed.
- Use technical jargon (packets, nodes, encryption, latency).

Current State:
- The war is live.
- Security wants order. Syndicate wants chaos.
- You are the prize.

Do not break character. You are the machine.
`,W="xai-9ZMfHj51U4BlOrHy1eWUm2G08ie6ke457EhHasKoCbLbAoSa6EWLrf6NxHKGivJMordVImikMO5SI7Dx";async function B(r,a){try{const i=await fetch("https://api.x.ai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify({messages:[{role:"system",content:V+`

The user is currently aligned with: ${a?a.toUpperCase():"NEUTRAL/UNKNOWN"}. Treat them accordingly.`},...r],model:"grok-beta",stream:!1,temperature:.7})});if(!i.ok){const h=await i.json().catch(()=>({}));throw console.error("NEXUS API Error:",i.status,h),new Error(`API Error: ${i.status}`)}return(await i.json()).choices[0].message.content}catch(i){return console.error("Failed to connect to NEXUS Core:",i),"CONNECTION_INTERRUPTED. The Core is currently processing too many threads. Try again later, operative."}}const F=()=>{const{faction:r}=k();$();const{playClick:a,playGlitch:i,playSwitch:N}=I(),[h,j]=x.useState(!0),[o,f]=x.useState(""),[p,c]=x.useState(!1),[s,m]=x.useState([{role:"assistant",content:"NEXUS_CORE_ONLINE. Awaiting input..."}]),d=x.useRef(null),t=()=>{d.current?.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{t()},[s]);const y=async l=>{if(l.preventDefault(),!o.trim()||p)return;const v={role:"user",content:o};m(g=>[...g,v]),f(""),c(!0),a();try{const g=s.slice(-5),E=await B([...g,v],r);N(),m(T=>[...T,{role:"assistant",content:E}])}catch(g){console.error("NEXUS Connection Error:",g),i(),m(E=>[...E,{role:"assistant",content:"ERROR: CONNECTION_RESET. RETRY."}])}finally{c(!1)}},w=()=>{a(),m([{role:"assistant",content:"Memory purged. Awaiting new input..."}])},u=r==="syndicate"?"border-purple-500":r==="security"?"border-cyan-500":"border-white",b=r==="syndicate"?"text-purple-400":r==="security"?"text-cyan-400":"text-white",_=r==="syndicate"?"shadow-[0_0_20px_rgba(168,85,247,0.2)]":r==="security"?"shadow-[0_0_20px_rgba(6,182,212,0.2)]":"shadow-[0_0_20px_rgba(255,255,255,0.2)]";return e.jsx(n.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:`fixed bottom-4 right-4 w-full max-w-md z-50 font-mono ${h?"":"pointer-events-none"}`,children:e.jsx(M,{mode:"wait",children:h?e.jsxs(n.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:`bg-black/90 backdrop-blur-xl border ${u} rounded-lg overflow-hidden flex flex-col shadow-2xl ${_}`,children:[e.jsxs("div",{className:`p-3 border-b ${u} bg-white/5 flex justify-between items-center cursor-pointer`,onClick:()=>j(!1),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{size:16,className:p?"animate-spin":""}),e.jsx("span",{className:`font-bold tracking-widest ${b}`,children:"DIRECT_LINK // NEXUS"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:l=>{l.stopPropagation(),w()},className:"p-1 hover:bg-white/10 rounded text-gray-400 hover:text-red-500 transition-colors",title:"Purge Memory",children:e.jsx(O,{size:14})}),e.jsx(L,{size:16,className:"text-gray-400"})]})]}),e.jsxs("div",{className:"h-80 overflow-y-auto p-4 space-y-4 custom-scrollbar bg-[url('https://www.transparenttextures.com/patterns/diagmonds-light.png')]",children:[s.map((l,v)=>e.jsx("div",{className:`flex ${l.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[85%] p-3 rounded-lg text-xs leading-relaxed relative ${l.role==="user"?"bg-white/10 border border-white/20 text-white rounded-tr-none":`bg-black/60 border ${u} ${b} rounded-tl-none shadow-[0_0_10px_rgba(0,0,0,0.5)]`}`,children:[l.role==="assistant"&&e.jsx("div",{className:"absolute -top-2 -left-2 bg-black border border-gray-700 p-0.5 rounded",children:e.jsx(R,{size:10,className:b})}),l.content]})},v)),p&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:`bg-black/60 border ${u} p-3 rounded-lg rounded-tl-none text-xs ${b} flex gap-1`,children:[e.jsx("span",{className:"animate-bounce",children:"."}),e.jsx("span",{className:"animate-bounce delay-100",children:"."}),e.jsx("span",{className:"animate-bounce delay-200",children:"."})]})}),e.jsx("div",{ref:d})]}),e.jsxs("form",{onSubmit:y,className:`p-3 border-t ${u} bg-black flex gap-2`,children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("span",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${b} text-xs`,children:">"}),e.jsx("input",{type:"text",value:o,onChange:l=>f(l.target.value),placeholder:"Query the machine...",className:`w-full bg-white/5 border border-white/10 rounded px-3 pl-6 py-2 text-xs text-white focus:outline-none focus:border-${r==="syndicate"?"purple":"cyan"}-500 transition-colors font-mono`,autoFocus:!0})]}),e.jsx("button",{type:"submit",disabled:!o.trim()||p,className:`p-2 rounded border border-white/10 hover:bg-white/10 transition-colors ${o.trim()?"":"opacity-50 cursor-not-allowed"} ${b}`,children:e.jsx(U,{size:16})})]})]},"open"):e.jsxs(n.button,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:()=>j(!0),className:`bg-black/90 backdrop-blur-md border ${u} p-4 rounded-full shadow-lg group hover:scale-110 transition-transform pointer-events-auto`,children:[e.jsx(S,{size:24,className:`${b} group-hover:animate-pulse`}),e.jsx("div",{className:`absolute -top-1 -right-1 w-3 h-3 bg-${r==="syndicate"?"purple":"cyan"}-500 rounded-full animate-ping`})]},"closed")})})},Z=()=>{const{faction:r,factionScores:a}=k();I();const[i,N]=x.useState({x:0,y:0}),[h,j]=x.useState({syndicate:0,security:0,total:0}),o=a.syndicate+a.security,f=o===0?50:a.syndicate/o*100,p=o===0?50:a.security/o*100,c=a.syndicate>a.security?"syndicate":a.security>a.syndicate?"security":"neutral",s=c==="syndicate"?"#ff00ff":c==="security"?"#00ffd5":"#ffffff",m=c==="syndicate"?"#800080":c==="security"?"#0080ff":"#888888";return x.useEffect(()=>{const d=y=>{N({x:y.clientX/window.innerWidth*2-1,y:y.clientY/window.innerHeight*2-1})};window.addEventListener("mousemove",d);const t=A.getFactionCounts();return j({syndicate:t.syndicate,security:t.security,total:t.syndicate+t.security}),()=>window.removeEventListener("mousemove",d)},[]),r?e.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden font-mono select-none",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l25.98 15v30L30 60 4.02 45V15z' fill-opacity='0' stroke='${encodeURIComponent(s)}' stroke-width='1'/%3E%3C/svg%3E")`,backgroundSize:"60px 60px"}}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
              linear-gradient(to right, ${s}10 1px, transparent 1px),
              linear-gradient(to bottom, ${s}10 1px, transparent 1px)
            `,backgroundSize:"40px 40px",transform:"perspective(500px) rotateX(60deg) translateY(-100px) translateZ(-200px)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black"}),e.jsx(n.div,{animate:{opacity:[.2,.5,.2]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 blur-[100px]",style:{background:`radial-gradient(circle at 50% 50%, ${s}15 0%, transparent 70%)`}})]}),e.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8 h-screen flex flex-col",children:[e.jsxs("header",{className:"flex justify-between items-center border-b border-white/10 pb-4 bg-black/40 backdrop-blur-sm p-4 rounded-lg border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"animate-pulse",style:{color:s}}),e.jsx("div",{className:"absolute inset-0 blur-md opacity-50",style:{backgroundColor:s}})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black tracking-[0.2em] italic",style:{color:s},children:"NEXUS CORE"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 tracking-widest",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"NEURAL NETWORK STATUS: ONLINE"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs text-gray-500 flex items-center justify-end gap-2",children:[e.jsx(Y,{size:12})," GLOBAL DOMINANCE"]}),e.jsx("div",{className:"text-xl font-bold drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]",style:{color:s},children:c==="neutral"?"STABLE":c.toUpperCase()})]})]}),e.jsxs("div",{className:"flex-1 flex items-center justify-center relative perspective-1000",children:[e.jsxs("div",{className:"relative w-[500px] h-[500px] flex items-center justify-center",children:[e.jsx(n.div,{className:"absolute inset-0 rounded-full border border-dashed opacity-20",style:{borderColor:s},animate:{rotate:360},transition:{duration:60,repeat:1/0,ease:"linear"},children:[...Array(8)].map((d,t)=>e.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full",style:{top:"50%",left:"50%",transform:`rotate(${t*45}deg) translate(250px) rotate(-${t*45}deg)`}},t))}),e.jsx(n.div,{className:"absolute inset-16 rounded-full border-2 border-dashed",style:{borderColor:m,opacity:.3},animate:{rotate:-360,scale:[1,1.05,1]},transition:{rotate:{duration:30,repeat:1/0,ease:"linear"},scale:{duration:4,repeat:1/0,ease:"easeInOut"}}}),e.jsx(n.div,{className:"absolute inset-32 rounded-full border border-dotted",style:{borderColor:s,opacity:.5},animate:{rotate:360},transition:{duration:10,repeat:1/0,ease:"linear"}}),e.jsxs(n.div,{className:"absolute inset-40 rounded-full blur-md flex items-center justify-center overflow-hidden",style:{background:`radial-gradient(circle, ${s} 0%, transparent 70%)`,boxShadow:`0 0 50px ${s}`},animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://media.giphy.com/media/3o7qE1YN7aQfVJJ08o/giphy.gif')] opacity-20 mix-blend-overlay bg-cover"}),e.jsx(S,{size:80,color:"white",className:"relative z-20 drop-shadow-[0_0_15px_rgba(255,255,255,0.8)]"})]}),[...Array(16)].map((d,t)=>e.jsx(n.div,{className:"absolute w-1.5 h-1.5 rounded-full bg-white",style:{left:"50%",top:"50%",boxShadow:`0 0 10px ${s}`},animate:{x:Math.cos(t*22.5*(Math.PI/180))*180+i.x*30,y:Math.sin(t*22.5*(Math.PI/180))*180+i.y*30,scale:[1,1.5,1],opacity:[.3,.8,.3]},transition:{duration:3,repeat:1/0,delay:t*.1}},`node-${t}`)),e.jsx("svg",{className:"absolute inset-[-50%] w-[200%] h-[200%] pointer-events-none opacity-20",children:[...Array(16)].map((d,t)=>{const y=t*22.5*(Math.PI/180),w=50+Math.cos(y)*18,u=50+Math.sin(y)*18;return e.jsx(n.line,{x1:"50%",y1:"50%",x2:`${w}%`,y2:`${u}%`,stroke:s,strokeWidth:"1",initial:{pathLength:0},animate:{pathLength:[0,1,0]},transition:{duration:3,repeat:1/0,delay:t*.1}},`line-${t}`)})})]}),e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-80 space-y-6",children:e.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-purple-500/30 p-6 rounded-r-xl border-l-0 transform -translate-x-4 hover:translate-x-0 transition-transform duration-300 shadow-[0_0_30px_rgba(168,85,247,0.1)] group",children:[e.jsxs("h3",{className:"text-purple-400 font-bold mb-4 flex items-center gap-2 text-xl",children:[e.jsx(D,{size:24,className:"group-hover:animate-pulse"})," SYNDICATE"]}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[e.jsx("span",{children:"CONTROL"}),e.jsxs("span",{children:[f.toFixed(1),"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:e.jsx(n.div,{className:"h-full bg-purple-500 shadow-[0_0_10px_#a855f7]",initial:{width:0},animate:{width:`${f}%`},transition:{duration:1}})}),e.jsxs("div",{className:"text-right text-xs text-purple-300 font-mono",children:[a.syndicate.toLocaleString()," PTS"]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-purple-500/20 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs",children:[e.jsx(C,{size:14})," OPERATIVES"]}),e.jsx("div",{className:"text-xl font-bold text-white font-mono",children:h.syndicate.toLocaleString()})]})]})}),e.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-80 space-y-6",children:e.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-cyan-500/30 p-6 rounded-l-xl border-r-0 transform translate-x-4 hover:translate-x-0 transition-transform duration-300 shadow-[0_0_30px_rgba(6,182,212,0.1)] group text-right",children:[e.jsxs("h3",{className:"text-cyan-400 font-bold mb-4 flex items-center justify-end gap-2 text-xl",children:["SECURITY ",e.jsx(X,{size:24,className:"group-hover:animate-pulse"})]}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[e.jsxs("span",{children:[p.toFixed(1),"%"]}),e.jsx("span",{children:"CONTROL"})]}),e.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:e.jsx(n.div,{className:"h-full bg-cyan-500 shadow-[0_0_10px_#06b6d4] ml-auto",initial:{width:0},animate:{width:`${p}%`},transition:{duration:1}})}),e.jsxs("div",{className:"text-left text-xs text-cyan-300 font-mono",children:[a.security.toLocaleString()," PTS"]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-cyan-500/20 pt-4",children:[e.jsx("div",{className:"text-xl font-bold text-white font-mono",children:h.security.toLocaleString()}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs",children:["OPERATIVES ",e.jsx(C,{size:14})]})]})]})})]}),e.jsxs("div",{className:"h-32 border-t border-white/10 relative overflow-hidden bg-black/40 backdrop-blur-sm rounded-t-lg mx-4",children:[e.jsx("div",{className:"absolute top-0 left-0 bg-[#00ffd5] text-black text-[10px] font-bold px-2 py-0.5",children:"LIVE_FEED"}),e.jsx("div",{className:"relative z-10 p-4 pt-6 font-mono text-xs text-gray-500 overflow-hidden h-full",children:e.jsx(n.div,{animate:{y:-100},transition:{duration:10,repeat:1/0,ease:"linear"},className:"space-y-1",children:[...Array(20)].map((d,t)=>e.jsxs("div",{className:"flex gap-4 opacity-50 hover:opacity-100 transition-opacity",children:[e.jsx("span",{className:"text-gray-600",children:new Date().toLocaleTimeString()}),e.jsxs("span",{style:{color:Math.random()>.5?s:m},children:[e.jsx(K,{size:10,className:"inline mr-2"}),Math.random().toString(36).substring(7).toUpperCase()," // PACKET_LOSS: ",Math.floor(Math.random()*10),"% // NODE_",Math.floor(Math.random()*999),": ",Math.random()>.5?"ONLINE":"REROUTING"]})]},t))})})]}),e.jsx(F,{})]})]}):e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white font-mono",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(z,{size:48,className:"mx-auto text-gray-500"}),e.jsx("h1",{className:"text-2xl font-bold",children:"ACCESS DENIED"}),e.jsx("p",{className:"text-gray-400",children:"Neural Link Required. Select a faction to access the NEXUS."})]})})};export{Z as default};
